{"version":3,"file":"member.cjs","sources":["../../src/types/member.ts"],"sourcesContent":["import type { DeclarationReflection } from 'typedoc';\nimport { DocumentedItemMeta } from './item-meta.js';\nimport { DocumentedItem } from './item.js';\nimport { DocumentedParam } from './param.js';\nimport { DocumentedVarType } from './var-type.js';\nimport type { Member } from '../interfaces/index.js';\nimport { parseType } from '../util/parseType.js';\n\nexport class DocumentedMember extends DocumentedItem<Member | DeclarationReflection> {\n\tpublic override serializer() {\n\t\tif (this.config.typescript) {\n\t\t\tconst data = this.data as DeclarationReflection;\n\t\t\tconst signature = (data.signatures ?? [])[0] ?? data;\n\t\t\tlet meta;\n\n\t\t\tconst sources = data.sources?.[0];\n\t\t\tif (sources) {\n\t\t\t\tmeta = new DocumentedItemMeta(sources, this.config).serialize();\n\t\t\t}\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\tconst see = signature.comment?.blockTags?.filter((t) => t.tag === '@see').length\n\t\t\t\t? signature.comment.blockTags\n\t\t\t\t\t\t.filter((t) => t.tag === '@see')\n\t\t\t\t\t\t.map((t) => t.content.find((c) => c.kind === 'text')?.text.trim())\n\t\t\t\t: undefined;\n\n\t\t\tconst base = {\n\t\t\t\tname: signature.name,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\tdescription: signature.comment?.summary?.reduce((prev, curr) => (prev += curr.text), '').trim() || undefined,\n\t\t\t\tsee,\n\t\t\t\tscope: data.flags.isStatic ? 'static' : undefined,\n\t\t\t\taccess:\n\t\t\t\t\tdata.flags.isPrivate ||\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tsignature.comment?.blockTags?.some((t) => t.tag === '@private' || t.tag === '@internal')\n\t\t\t\t\t\t? 'private'\n\t\t\t\t\t\t: undefined,\n\t\t\t\treadonly: data.flags.isReadonly,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\tabstract: signature.comment?.blockTags?.some((t) => t.tag === '@abstract') || undefined,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\tdeprecated: signature.comment?.blockTags?.some((t) => t.tag === '@deprecated')\n\t\t\t\t\t? signature.comment.blockTags\n\t\t\t\t\t\t\t.find((t) => t.tag === '@deprecated')\n\t\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t\t.trim() ?? true\n\t\t\t\t\t: undefined,\n\t\t\t\tdefault:\n\t\t\t\t\t(data.defaultValue === '...' ? undefined : data.defaultValue) ??\n\t\t\t\t\t(signature.comment?.blockTags\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\t\t?.find((t) => t.tag === '@default')\n\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\t\t.trim() ||\n\t\t\t\t\t\tundefined),\n\t\t\t\ttype: signature.type\n\t\t\t\t\t? new DocumentedVarType({ names: [parseType(signature.type)] }, this.config).serialize()\n\t\t\t\t\t: undefined,\n\t\t\t\tmeta,\n\t\t\t};\n\n\t\t\tif (data.kindString === 'Accessor') {\n\t\t\t\tconst getter = data.getSignature;\n\t\t\t\tconst hasSetter = data.setSignature;\n\n\t\t\t\tif (!getter) {\n\t\t\t\t\tthrow new Error(\"Can't parse accessor without getter.\");\n\t\t\t\t}\n\n\t\t\t\tif (!hasSetter) {\n\t\t\t\t\tbase.readonly = true;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\tconst see = getter.comment?.blockTags?.filter((t) => t.tag === '@see').length\n\t\t\t\t\t? getter.comment.blockTags\n\t\t\t\t\t\t\t.filter((t) => t.tag === '@see')\n\t\t\t\t\t\t\t.map((t) => t.content.find((c) => c.kind === 'text')?.text.trim())\n\t\t\t\t\t: undefined;\n\n\t\t\t\treturn {\n\t\t\t\t\t...base,\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\tdescription: getter.comment?.summary?.reduce((prev, curr) => (prev += curr.text), '').trim() || undefined,\n\t\t\t\t\tsee,\n\t\t\t\t\taccess:\n\t\t\t\t\t\tdata.flags.isPrivate ||\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\t\tgetter.comment?.blockTags?.some((t) => t.tag === '@private' || t.tag === '@internal')\n\t\t\t\t\t\t\t? 'private'\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\treadonly: base.readonly || !hasSetter,\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\tabstract: getter.comment?.blockTags?.some((t) => t.tag === '@abstract') || undefined,\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tdeprecated: getter.comment?.blockTags?.some((t) => t.tag === '@deprecated')\n\t\t\t\t\t\t? getter.comment.blockTags\n\t\t\t\t\t\t\t\t.find((t) => t.tag === '@deprecated')\n\t\t\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t\t\t.trim() ?? true\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbase.default ??\n\t\t\t\t\t\t(getter.comment?.blockTags\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\t\t\t?.find((t) => t.tag === '@default')\n\t\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\t\t\t.trim() ||\n\t\t\t\t\t\t\tundefined),\n\t\t\t\t\ttype: getter.type ? parseType(getter.type) : undefined,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn base;\n\t\t}\n\n\t\tconst data = this.data as Member;\n\t\treturn {\n\t\t\tname: data.name,\n\t\t\tdescription: data.description,\n\t\t\tsee: data.see,\n\t\t\tscope: data.scope,\n\t\t\taccess: data.access,\n\t\t\treadonly: data.readonly,\n\t\t\tnullable: data.nullable,\n\t\t\tabstract: data.virtual,\n\t\t\tdeprecated: data.deprecated,\n\t\t\tdefault: data.default,\n\t\t\ttype: new DocumentedVarType(data.type, this.config).serialize(),\n\t\t\tprops: data.properties?.length\n\t\t\t\t? data.properties.map((p) => new DocumentedParam(p, this.config).serialize())\n\t\t\t\t: undefined,\n\t\t\tmeta: new DocumentedItemMeta(data.meta, this.config).serialize(),\n\t\t};\n\t}\n}\n"],"names":["g","m","l","f","b"],"mappings":"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"}