import{DocumentedItemMeta as o}from"./item-meta.mjs";import{DocumentedItem as l}from"./item.mjs";import{DocumentedParam as s}from"./param.mjs";import{DocumentedVarType as g}from"./var-type.mjs";import{parseType as f}from"../util/parseType.mjs";class u extends l{serializer(){if(this.config.typescript){const i=this.data,t=(i.signatures??[])[0]??i;let m;const n=i.sources?.[0];n&&(m=new o(n,this.config).serialize());const c=t.comment?.blockTags?.filter(e=>e.tag==="@see").length?t.comment.blockTags.filter(e=>e.tag==="@see").map(e=>e.content.find(a=>a.kind==="text")?.text.trim()):void 0,d=t.comment?.blockTags?.filter(e=>e.tag==="@example").length?t.comment.blockTags.filter(e=>e.tag==="@example").map(e=>e.content.reduce((a,p)=>a+=p.text,"").trim()):void 0;return{name:t.parameters?.[0]?.type?.value,description:t.comment?.summary?.reduce((e,a)=>e+=a.text,"").trim()||void 0,see:c,access:i.flags.isPrivate||t.comment?.blockTags?.some(e=>e.tag==="@private"||e.tag==="@internal")?"private":void 0,examples:d,deprecated:t.comment?.blockTags?.some(e=>e.tag==="@deprecated")?t.comment.blockTags.find(e=>e.tag==="@deprecated")?.content.reduce((e,a)=>e+=a.text,"").trim()??!0:void 0,params:t.parameters?t.parameters?.slice(1).map(e=>new s(e,this.config).serialize()):void 0,returns:t.type?[new g({names:[f(t.type)],description:t.comment?.blockTags?.find(e=>e.tag==="@returns")?.content.reduce((e,a)=>e+=a.text,"").trim()||void 0},this.config).serialize()]:void 0,returnsDescription:t.comment?.blockTags?.find(e=>e.tag==="@returns")?.content.reduce((e,a)=>e+=a.text,"").trim()||void 0,meta:m}}const r=this.data;return{name:r.name,description:r.description,see:r.see,deprecated:r.deprecated,params:r.params?.length?r.params.map(i=>new s(i,this.config).serialize()):void 0,meta:new o(r.meta,this.config).serialize()}}}export{u as DocumentedEvent};
//# sourceMappingURL=event.mjs.map
