{"version":3,"file":"event.mjs","sources":["../../src/types/event.ts"],"sourcesContent":["import type { DeclarationReflection, SignatureReflection } from 'typedoc';\nimport { DocumentedItemMeta } from './item-meta.js';\nimport { DocumentedItem } from './item.js';\nimport { DocumentedParam } from './param.js';\nimport { DocumentedVarType } from './var-type.js';\nimport type { Event } from '../interfaces/index.js';\nimport { parseType } from '../util/parseType.js';\n\nexport class DocumentedEvent extends DocumentedItem<Event | DeclarationReflection> {\n\tpublic override serializer() {\n\t\tif (this.config.typescript) {\n\t\t\tconst data = this.data as DeclarationReflection;\n\t\t\tconst signature = (data.signatures ?? [])[0] ?? data;\n\t\t\tlet meta;\n\n\t\t\tconst sources = data.sources?.[0];\n\t\t\tif (sources) {\n\t\t\t\tmeta = new DocumentedItemMeta(sources, this.config).serialize();\n\t\t\t}\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\tconst see = signature.comment?.blockTags?.filter((t) => t.tag === '@see').length\n\t\t\t\t? signature.comment.blockTags\n\t\t\t\t\t\t.filter((t) => t.tag === '@see')\n\t\t\t\t\t\t.map((t) => t.content.find((c) => c.kind === 'text')?.text.trim())\n\t\t\t\t: undefined;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\tconst examples = signature.comment?.blockTags?.filter((t) => t.tag === '@example').length\n\t\t\t\t? signature.comment.blockTags\n\t\t\t\t\t\t.filter((t) => t.tag === '@example')\n\t\t\t\t\t\t.map((t) => t.content.reduce((prev, curr) => (prev += curr.text), '').trim())\n\t\t\t\t: undefined;\n\n\t\t\treturn {\n\t\t\t\t// @ts-expect-error\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\t\tname: signature.parameters?.[0]?.type?.value,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\tdescription: signature.comment?.summary?.reduce((prev, curr) => (prev += curr.text), '').trim() || undefined,\n\t\t\t\tsee,\n\t\t\t\taccess:\n\t\t\t\t\tdata.flags.isPrivate ||\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tsignature.comment?.blockTags?.some((t) => t.tag === '@private' || t.tag === '@internal')\n\t\t\t\t\t\t? 'private'\n\t\t\t\t\t\t: undefined,\n\t\t\t\texamples,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\tdeprecated: signature.comment?.blockTags?.some((t) => t.tag === '@deprecated')\n\t\t\t\t\t? signature.comment.blockTags\n\t\t\t\t\t\t\t.find((t) => t.tag === '@deprecated')\n\t\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t\t.trim() ?? true\n\t\t\t\t\t: undefined,\n\t\t\t\t// @ts-expect-error\n\t\t\t\tparams: signature.parameters\n\t\t\t\t\t? (signature as SignatureReflection).parameters\n\t\t\t\t\t\t\t?.slice(1)\n\t\t\t\t\t\t\t.map((p) => new DocumentedParam(p, this.config).serialize())\n\t\t\t\t\t: undefined,\n\t\t\t\treturns: signature.type\n\t\t\t\t\t? [\n\t\t\t\t\t\t\tnew DocumentedVarType(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnames: [parseType(signature.type)],\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\tsignature.comment?.blockTags\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\t\t\t\t\t\t\t?.find((t) => t.tag === '@returns')\n\t\t\t\t\t\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\t\t\t\t\t\t\t.trim() || undefined,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tthis.config,\n\t\t\t\t\t\t\t).serialize(),\n\t\t\t\t\t  ]\n\t\t\t\t\t: undefined,\n\t\t\t\treturnsDescription:\n\t\t\t\t\tsignature.comment?.blockTags\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\t\t?.find((t) => t.tag === '@returns')\n\t\t\t\t\t\t?.content.reduce((prev, curr) => (prev += curr.text), '')\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n\t\t\t\t\t\t.trim() || undefined,\n\t\t\t\tmeta,\n\t\t\t};\n\t\t}\n\n\t\tconst data = this.data as Event;\n\t\treturn {\n\t\t\tname: data.name,\n\t\t\tdescription: data.description,\n\t\t\tsee: data.see,\n\t\t\tdeprecated: data.deprecated,\n\t\t\tparams: data.params?.length ? data.params.map((p) => new DocumentedParam(p, this.config).serialize()) : undefined,\n\t\t\tmeta: new DocumentedItemMeta(data.meta, this.config).serialize(),\n\t\t};\n\t}\n}\n"],"names":["f","o","c","l","u"],"mappings":"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"}